<!DOCTYPE html>
<html lang="zh-CN">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="ch3 Â§öÈÅìÁ®ãÂ∫è‰∏éÂàÜÊó∂Â§ö‰ªªÂä°" />
    <meta name="hexo-theme-A4" content="v1.9.6" />
    <link rel="alternate icon" type="image/webp" href="/img/ryo.png">
    <title>SMS Derfflinger</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--Ê≥®ÊÑèÔºöÈ¶ñÈ°µÊó¢‰∏çÊòØpost‰πü‰∏çÊòØpage-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--ËøîÂõûÈ°∂ÈÉ®css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ÁõÆÂΩï-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery-bundle.min.css">


<meta name="generator" content="Hexo 7.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>
    
    

    
    



    

    
    

    
    <style>
        :root {
            --waline-theme-color: #323e74; 
            --waline-color: #323e74; 
            --waline-border-color: #323e74; 
            --waline-white: #323e74; 
            --waline-bgcolor-light: #f2fafc;  
        }
        body {
            color: #323e74;
            background: #eaeae8;
        }
        .post-md code {
            background: #e7f7f3;
            color: #7f688d; 
        }
        .post-md pre, .post-md .highlight {
            background: #e7f7f3;
            color: #7f688d; 
        }
        pre .string, pre .value, pre .inheritance, pre .header, pre .ruby .symbol, pre .xml .cdata {
            color: #323e74;
        }
        pre .number, pre .preprocessor, pre .built_in, pre .literal, pre .params, pre .constant {
            color: #323e74;
        }
        .year-font-color {
            color: #323e74 !important;
        }
        .wl-card span.wl-nick {
            color: #323e74; 
        }
        .wl-card .wl-badge {
            border: 1px solid #323e74;
            color: #323e74; 
        }
        .wl-btn {
            border: 1px solid #323e74; 
            color:  #323e74;  
        }
        .wl-btn.primary {
            color: #f2fafc; 
        }
        .wl-header label {
            color: #323e74;
        }
        a {
            color: #7f688d;
        }

        .post-md a {
            color: #7f688d;
        }

        .nav li a {
            color: #7f688d;
        }

        .archive-main a:link {
            color: #7f688d;
        }
        .archive-main a:visited {
            color: #767c7c; 
        }

        .archive li span {
            color: #323e74;
        }

        .post-main-title {
            color: #323e74;
        }

        .post-md h1,
        .post-md h2,
        .post-md h3,
        .post-md h4,
        .post-md h5,
        .post-md h6 {
            color: #323e74;
        }

        [data-waline] p {
            color: #323e74;
        }
        [data-waline] a {
            color: #323e74;
        } 
        .wl-sort li.active {
            color: #323e74;
        }

        .wl-card .wl-meta>span {
            background: #f2fafc;
        }

        .paper {
            background: #eaeae8;
        }

        .index-main {
            background: #f2fafc;
        }

        .paper-main {
            background: #f2fafc;
        }

        .wl-panel {
            background: #f2fafc;
        }

        .archive li:nth-child(odd) {
            background: #f2fafc;
            ;
        }

        .archive li:nth-child(even) {
            background: #f2fafc;
        }

        .post-md table tr:nth-child(odd) td {
            background: #f2fafc;
        }

        .post-md table tr:nth-child(even) td {
            background: #f2fafc;
        }

    
        .progress-wrap::after {
            color: #323e74; /* ÁÆ≠Â§¥ÁöÑÈ¢úËâ≤ */
        }
        .progress-wrap svg.progress-circle path {
	        stroke: #323e74; /* ËæπÊ°ÜÁöÑÈ¢úËâ≤ */
        }
        .progress-wrap::before {
	        background-image: linear-gradient(298deg, #7f688d, #7f688d); /* Èº†Ê†áÊªëËøáÁöÑÁÆ≠Â§¥È¢úËâ≤ */
         }

        .return-to-last-progress-wrap::after {
            color: #323e74; /* ÁÆ≠Â§¥ÁöÑÈ¢úËâ≤ */
        }
        .return-to-last-progress-wrap svg.progress-circle path {
	        stroke: #323e74; /* ËæπÊ°ÜÁöÑÈ¢úËâ≤ */
        }
        .return-to-last-progress-wrap::before {
	        background-image: linear-gradient(298deg, #7f688d, #7f688d); /* Èº†Ê†áÊªëËøáÁöÑÁÆ≠Â§¥È¢úËâ≤ */
         }

         .left-toc-container::-webkit-scrollbar-thumb {
            background-color: #323e74; /* ËÆæÁΩÆÊªöÂä®Êù°ÊãñÂä®ÂùóÁöÑÈ¢úËâ≤ */
        }

        .bs-docs-sidebar .nav>.active>a,
        .bs-docs-sidebar .nav>li>a:hover,
        .bs-docs-sidebar .nav>li>a:focus {
            color: #7f688d;
            border-left-color: #7f688d;
        }
        .bs-docs-sidebar .nav>li>a {
            color:  #323e74;
        }
    </style>

    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #eaeae8  ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'üåì', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/ryo.png" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">SMS Derfflinger</a> 
            <span class="description">Just for fun.</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">È¶ñÈ°µ</a></li>
            
        
            
                <li><a href="/list/">ÊñáÁ´†</a></li>
            
        
            
                <li><a href="/tags/">Ê†áÁ≠æ</a></li>
            
        
            
                <li><a href="/categories/">ÂàÜÁ±ª</a></li>
            
        
            
                <li><a href="/about/">ÂÖ≥‰∫é</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--ËØ¥ÊòéÊòØÊñáÁ´†postÈ°µÈù¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title" style="text-align: center;">
                    ch3 Â§öÈÅìÁ®ãÂ∫è‰∏éÂàÜÊó∂Â§ö‰ªªÂä°
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-center">
        
                
                    <span>ÊúÄËøëÊõ¥Êñ∞Ôºö2025-03-25</span> 
                
                
                    
                        &nbsp; | &nbsp;
                    
                     <span>Â≠óÊï∞ÊÄªËÆ°Ôºö2.1k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>ÈòÖËØª‰º∞Êó∂Ôºö7ÂàÜÈíü</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span id="busuanzi_container_page_pv">
                        ÈòÖËØªÈáèÔºö<span id="busuanzi_value_page_pv"></span>Ê¨°
                    </span>
                
            </div>
    

    <div class="post-md">
        
            
        
        <div class=".article-gallery"><h1 id="ch3-Â§öÈÅìÁ®ãÂ∫è‰∏éÂàÜÊó∂Â§ö‰ªªÂä°"><a href="#ch3-Â§öÈÅìÁ®ãÂ∫è‰∏éÂàÜÊó∂Â§ö‰ªªÂä°" class="headerlink" title="ch3 Â§öÈÅìÁ®ãÂ∫è‰∏éÂàÜÊó∂Â§ö‰ªªÂä°"></a>ch3 Â§öÈÅìÁ®ãÂ∫è‰∏éÂàÜÊó∂Â§ö‰ªªÂä°</h1><h2 id="ÂºïË®Ä"><a href="#ÂºïË®Ä" class="headerlink" title="ÂºïË®Ä"></a>ÂºïË®Ä</h2><p>ÊÑüËßâÂâç‰∏§Á´†ÁöÑblogÂíåÂÆòÊñπÊñáÊ°£ÈáçÂêàÁöÑÊúâÁÇπÂ§öÔºå‰ªéÁé∞Âú®ÂºÄÂßãÂ∞Ü‰∏ªË¶ÅË°•ÂÖÖÂ≠¶‰π†Êó∂ÈÅáÂà∞ÁöÑÁü•ËØÜÁÇπÂíåÂØπÂÆòÊñπÊñáÊ°£ÁöÑË°•ÂÖÖ„ÄÇ</p>
<p>Ââç‰∏ÄÁ´†ÂÆûÁé∞‰∫ÜËá™Âä®Âä†ËΩΩÁ®ãÂ∫èÁöÑÊâπÂ§ÑÁêÜÁ≥ªÁªüÔºåÂáèÂ∞ë‰∫ÜÊâãÂä®ÊõøÊç¢ÁöÑÊìç‰ΩúÂíåÊó∂Èó¥„ÄÇÊú¨Á´†Âú®Ââç‰∏ÄÁ´†ÁöÑÂü∫Á°Ä‰∏äÔºå‰æùÊ¨°ÂÆûÁé∞‰∫ÜÔºö</p>
<ul>
<li>ÂÜÖÂ≠ò‰∏≠ÂêåÊó∂È©ªÁïôÂ§ö‰∏™Â∫îÁî®ÁöÑÂ§öÈÅìÁ®ãÂ∫èÁ≥ªÁªü„ÄÇ</li>
<li>ÂÜÖÊ†∏‰øùÂ≠òÂ∫îÁî®Á®ãÂ∫èÁöÑ‰ªªÂä°‰∏ä‰∏ãÊñá‰ø°ÊÅØÔºåÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•‰∏ªÂä®ÈáäÊîæÂ§ÑÁêÜÂô®ÁöÑÂçè‰ΩúÂºèÂ§ö‰ªªÂä°Á≥ªÁªü„ÄÇ</li>
<li>Áî±ÂÜÖÊ†∏ÁÆ°ÁêÜÁöÑ‰ΩøÁî®Á°¨‰ª∂‰∏≠Êñ≠ÂÆûÁé∞ÁöÑÊä¢Âç†ÂºèÂ§ö‰ªªÂä°Á≥ªÁªü„ÄÇ</li>
</ul>
<h2 id="Â§öÈÅìÁ®ãÂ∫èÊîæÁΩÆ‰∏éÂä†ËΩΩ"><a href="#Â§öÈÅìÁ®ãÂ∫èÊîæÁΩÆ‰∏éÂä†ËΩΩ" class="headerlink" title="Â§öÈÅìÁ®ãÂ∫èÊîæÁΩÆ‰∏éÂä†ËΩΩ"></a>Â§öÈÅìÁ®ãÂ∫èÊîæÁΩÆ‰∏éÂä†ËΩΩ</h2><p>Ââç‰∏ÄÁ´†‰∏≠ÔºåÊâÄÊúâÂ∫îÁî®Á®ãÂ∫èÈÉΩÂä†ËΩΩÂà∞Âêå‰∏Ä‰∏™‰ΩçÁΩÆÔºå‰∏ä‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫èÁªìÊùüÂêé‰∏ã‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫èÊâçË¢´Âä†ËΩΩ„ÄÇÂõ†Ê≠§Âú®Êú¨ËäÇ‰∏≠ÔºåÊØè‰∏™Â∫îÁî®ÈÉΩÈúÄË¶ÅÊåâÁÖßÂÆÉÁöÑÁºñÂè∑Ë¢´ÂàÜÂà´ÊîæÁΩÆÂπ∂Âä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠‰∏çÂêåÁöÑ‰ΩçÁΩÆ„ÄÇËøôÈúÄË¶ÅÂ∫îÁî®Áü•ÈÅìËá™Â∑±‰ºöË¢´Âä†ËΩΩÂà∞Êüê‰∏™Âú∞ÂùÄËøêË°åÔºåËÄåÂÜÖÊ†∏‰πüÁ°ÆÂÆûËÉΩÂÅöÂà∞Â∞ÜÂ∫îÁî®Âä†ËΩΩÂà∞ÂÆÉÊåáÂÆöÁöÑÈÇ£‰∏™Âú∞ÂùÄÔºåÂÜÖÊ†∏ÂíåÂ∫îÁî®ÈúÄË¶ÅËææÊàê‰∏ÄÁßçÂçèËÆÆ„ÄÇ</p>
<p>ÂÖ∑‰Ωì‰∏äÈÄöËøáÂú®ÁºñËØëÊØè‰∏™Â∫îÁî®Êó∂ÔºåÊ†πÊçÆÂÆÉÁöÑÁºñÂè∑‰øÆÊîπÈìæÊé•ËÑöÊú¨ <code>linker.ld</code>ÔºåÊûÑÂª∫Âá∫Ëµ∑ÂßãÂú∞ÂùÄ‰∏çÂêåÁöÑ <code>.bin</code> Êñá‰ª∂„ÄÇÁÑ∂ÂêéÂú®Êìç‰ΩúÁ≥ªÁªüÂêØÂä®ÁöÑÈò∂ÊÆµÂ∞ÜÊâÄÊúâÁöÑÂ∫îÁî®ÈÉΩÂä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠„ÄÇÊØè‰∏™Â∫îÁî®ÁöÑÂ§ßÂ∞èÈôêÂà∂‰∏∫ÊúÄÂ§ß‰∏∫0x20000Ôºå‰πüÂ∞±ÊòØ128KB„ÄÇ</p>
<p>Âä†ËΩΩ‰πãÂêé‰∏é‰∏ä‰∏ÄÁ´†ÁöÑËøêË°åÁöÑËøáÁ®ãÁ±ª‰ººÔºåÊìç‰ΩúÁ≥ªÁªüÈÄê‰∏™ËøêË°åÂ∑≤ÁªèÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ‰∏çÂêåÁöÑÊòØÔºåÊú¨Á´†‰∏≠ÊØè‰∏™Â∫îÁî®Á®ãÂ∫èÈÉΩÊúâ<strong>Ëá™Â∑±ÁöÑÁî®Êà∑Ê†àÂíåÂÜÖÊ†∏Ê†à</strong>ÔºåÂ≠òÂú®Â§ö‰∏™Áî®Êà∑Ê†àÂèØ‰ª•ÁêÜËß£ÔºåÂ≠òÂú®Â§ö‰∏™ÂÜÖÊ†∏Ê†àÁöÑÂéüÂõ†ÊòØËÆ©ÊâÄÊúâÁöÑ‰ªªÂä°ÂÆâÂÖ®Âú∞ÂÖ±‰∫´‰∏Ä‰∏™ÂÜÖÊ†∏Ê†àÊØîËæÉÂõ∞ÈöæÔºå‰∏∫ÊØè‰∏™‰ªªÂä°ÂàÜÈÖç‰∏Ä‰∏™ÂÜÖÊ†∏Ê†àÊòØÊØîËæÉÁÆÄÂçïÁöÑÂÅöÊ≥ï„ÄÇÂà∞ËøôÈáåÂ§öÈÅìÁ®ãÂ∫èÁ≥ªÁªüÂÆûÁé∞ÁªìÊùü„ÄÇ</p>
<h2 id="‰ªªÂä°ÂàáÊç¢"><a href="#‰ªªÂä°ÂàáÊç¢" class="headerlink" title="‰ªªÂä°ÂàáÊç¢"></a>‰ªªÂä°ÂàáÊç¢</h2><p>‰∏ä‰∏ÄËäÇÂàöÂÆûÁé∞ÁöÑÂ§öÈÅìÁ®ãÂ∫èÁ≥ªÁªü‰∏≠ÔºåÂ¶ÇÊûúÂ∫îÁî®‰∏çÂá∫ÈîôÊàñËÄÖ‰∏ªÂä®ÈÄÄÂá∫ÔºåÂÆÉ‰ºö‰∏ÄÁõ¥Áã¨Âç†CPUÔºåÂ∫îÁî®ÁöÑÊâßË°åÈ°∫Â∫è‰ªçÁÑ∂‰∏éÊâπÂ§ÑÁêÜÁ≥ªÁªüÁõ∏ÂêåÔºå‰∏∫‰∫ÜÊèêÈ´òÊïàÁéáÔºåË¶ÅËÆ©Â∫îÁî®Á®ãÂ∫èÂèØ‰ª•‰∏ªÂä®ÊîæÂºÉCPUÔºåÈúÄË¶ÅÂºïÂÖ•Êñ∞ÁöÑÊìç‰ΩúÁ≥ªÁªüÊ¶ÇÂøµ<strong>‰ªªÂä°</strong>„ÄÅ<strong>‰ªªÂä°ÂàáÊç¢</strong>„ÄÅ<strong>‰ªªÂä°‰∏ä‰∏ãÊñá</strong>„ÄÇ</p>
<ul>
<li>‰ªªÂä°ÔºöÂ∫îÁî®Á®ãÂ∫èÁöÑ‰∏ÄÊ¨°ÊâßË°åËøáÁ®ã„ÄÇ‰∏Ä‰∏™Êó∂Èó¥ÁâáÊÆµ‰∏äÁöÑÊâßË°åÁâáÊÆµÊàê‰∏∫‰ªªÂä°Áâá„ÄÇ</li>
<li>‰ªªÂä°ÂàáÊç¢ÔºöÂàáÊç¢‰ªªÂä°ÁöÑËøáÁ®ãÔºàÂ∫üËØùÔºâ</li>
<li>‰ªªÂä°‰∏ä‰∏ãÊñáÔºö‰ªªÂä°ÂàáÊç¢‰∏≠ÈúÄË¶Å‰øùÂ≠ò‰∏éÊÅ¢Â§çÁöÑËµÑÊ∫ê</li>
</ul>
<blockquote>
<p>Êú¨ËäÇÊâÄËÆ≤ÁöÑ‰ªªÂä°ÂàáÊç¢ÊòØÁ¨¨‰∫åÁ´†ÊèêÂèäÁöÑ Trap ÊéßÂà∂ÊµÅÂàáÊç¢‰πãÂ§ñÁöÑÂè¶‰∏ÄÁßçÂºÇÂ∏∏ÊéßÂà∂ÊµÅÔºåÈÉΩÊòØÊèèËø∞‰∏§Êù°ÊéßÂà∂ÊµÅ‰πãÈó¥ÁöÑÂàáÊç¢ÔºåÂ¶ÇÊûúÂ∞ÜÂÆÉÂíå Trap ÂàáÊç¢ËøõË°åÊØîËæÉÔºå‰ºöÊúâÂ¶Ç‰∏ãÂºÇÂêåÔºö</p>
<ul>
<li>‰∏é Trap ÂàáÊç¢‰∏çÂêåÔºåÂÆÉ‰∏çÊ∂âÂèäÁâπÊùÉÁ∫ßÂàáÊç¢Ôºõ</li>
<li>‰∏é Trap ÂàáÊç¢‰∏çÂêåÔºåÂÆÉÁöÑ‰∏ÄÈÉ®ÂàÜÊòØÁî±ÁºñËØëÂô®Â∏ÆÂøôÂÆåÊàêÁöÑÔºõ</li>
<li>‰∏é Trap ÂàáÊç¢Áõ∏ÂêåÔºåÂÆÉÂØπÂ∫îÁî®ÊòØÈÄèÊòéÁöÑ„ÄÇ</li>
</ul>
</blockquote>
<p>Âú®‰ªªÂä°ÂàáÊç¢‰∏≠Ôºå‰ªªÂä°‰∏ä‰∏ãÊñá‰ºöË¢´‰øùÂ≠òÂú®‰ªªÂä°ÊéßÂà∂Âùó‰∏≠„ÄÇÂÆûÈôÖ‰∏ä‰ºöË¢´‰øùÂ≠òÂú®‰∏Ä‰∏™ÂÖ®Â±ÄÂèòÈáè <code>TASK_MANAGER</code> ‰∏≠Ôºå‰Ωç‰∫éÂÜÖÊ†∏ÁöÑ <code>.data</code> ÊÆµ‰∏≠ÔºåÂ¶ÇÂõæ<a href="/img/rCore/asserts/Pasted%20image%2020250316162508.png" class="gallery-item" style="box-shadow: none;"> <img src="/img/rCore/asserts/Pasted%20image%2020250316162508.png"></a></p>
<p>ÂÖ∑‰ΩìÈÄöËøá‰∏Ä‰∏™ <code>__switch</code> ÂáΩÊï∞ÂÆûÁé∞Ôºö</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">__switch:</span><br><span class="line">¬† ¬† # __switch(</span><br><span class="line">¬† ¬† # ¬† ¬† current_task_cx_ptr: *mut TaskContext,</span><br><span class="line">¬† ¬† # ¬† ¬† next_task_cx_ptr: *const TaskContext</span><br><span class="line">¬† ¬† # )</span><br><span class="line">¬† ¬† # save kernel stack of current task</span><br><span class="line">¬† ¬† sd sp, 8(a0)</span><br><span class="line"></span><br><span class="line">¬† ¬† # save ra &amp; s0~s11 of current execution</span><br><span class="line">¬† ¬† sd ra, 0(a0)</span><br><span class="line">¬† ¬† .set n, 0</span><br><span class="line">¬† ¬† .rept 12</span><br><span class="line">¬† ¬† ¬† ¬† SAVE_SN %n</span><br><span class="line">¬† ¬† ¬† ¬† .set n, n + 1</span><br><span class="line">¬† ¬† .endr</span><br><span class="line"></span><br><span class="line">¬† ¬† # restore ra &amp; s0~s11 of next execution</span><br><span class="line">¬† ¬† ld ra, 0(a1)</span><br><span class="line">¬† ¬† .set n, 0</span><br><span class="line">¬† ¬† .rept 12</span><br><span class="line">¬† ¬† ¬† ¬† LOAD_SN %n</span><br><span class="line">¬† ¬† ¬† ¬† .set n, n + 1</span><br><span class="line">¬† ¬† .endr</span><br><span class="line"></span><br><span class="line">¬† ¬† # restore kernel stack of next task</span><br><span class="line">¬† ¬† ld sp, 8(a1)</span><br><span class="line"></span><br><span class="line">¬† ¬† ret</span><br></pre></td></tr></table></figure>
<ul>
<li>‰øùÂ≠òÂΩìÂâç‰ªªÂä°ÁöÑÂ†ÜÊ†àÊåáÈíà <code>sp</code>ÔºåÂç≥ÂΩìÂâç‰ªªÂä°ÁöÑÂÜÖÊ†∏Ê†àÁöÑ‰ΩçÁΩÆÔºå‰øùÂ≠òÂà∞ <code>a0 + 8</code> Â§Ñ„ÄÇ</li>
<li>‰øùÂ≠òÂΩìÂâç‰ªªÂä°ÁöÑ <code>ra</code>ÔºàËøîÂõûÂú∞ÂùÄÂØÑÂ≠òÂô®ÔºâÂíå <code>s0</code> Âà∞ <code>s11</code> ÂØÑÂ≠òÂô®ÁöÑÁä∂ÊÄÅ„ÄÇ</li>
<li><code>ra</code> Â≠òÂÇ®Âú® <code>a0</code> ÁöÑÂÅèÁßªÈáè‰∏∫ <code>0</code> ÁöÑ‰ΩçÁΩÆ„ÄÇÈÄöËøá <code>.rept 12</code>ÔºåÂÆè <code>SAVE_SN</code> Ë¢´ÈáçÂ§çÊâßË°å 12 Ê¨°Ôºå‰øùÂ≠ò‰ªé <code>s0</code> Âà∞ <code>s11</code> ÁöÑÂØÑÂ≠òÂô®„ÄÇ</li>
<li>ÊÅ¢Â§ç‰∏ã‰∏Ä‰∏™‰ªªÂä°ÁöÑ <code>ra</code> ÂØÑÂ≠òÂô®Âíå <code>s0</code> Âà∞ <code>s11</code> ÂØÑÂ≠òÂô®ÁöÑÁä∂ÊÄÅ„ÄÇ<code>ra</code> ‰ªé <code>a1 + 0</code> Â§ÑÂä†ËΩΩÔºå<code>s0</code> Âà∞ <code>s11</code> ÈÄöËøá <code>.rept 12</code> ËøõË°åÂæ™ÁéØÊÅ¢Â§ç„ÄÇ</li>
<li>ÊÅ¢Â§ç‰∏ã‰∏Ä‰∏™‰ªªÂä°ÁöÑÂ†ÜÊ†àÊåáÈíà <code>sp</code>ÔºåÂÆÉÂ≠òÂÇ®Âú® <code>a1 + 8</code> Â§Ñ„ÄÇ</li>
</ul>
<p><code>TaskContext</code> Êï∞ÊçÆÁªìÊûÑÂ¶Ç‰∏ãÔºå‰∏äÈù¢Ê±áÁºñ‰ª£Á†Å‰∏≠ÁöÑ <code>a0 + 8</code> Âíå <code>a0</code> ÁöÑÂÅèÁßªÈáè‰∏∫ <code>0</code> ÁöÑ‰ΩçÁΩÆÂç≥‰∏∫ <code>TaskContext</code> ÊåáÈíàÊâÄÊåáÁöÑÊï∞ÊçÆÁªìÊûÑ‰∏≠ÁöÑ <code>sp</code> Âíå <code>ra</code>„ÄÇ</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">TaskContext</span> {</span><br><span class="line">    ra: <span class="type">usize</span>,</span><br><span class="line">    sp: <span class="type">usize</span>,</span><br><span class="line">    s: [<span class="type">usize</span>; <span class="number">12</span>],</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h2 id="Â§öÈÅìÁ®ãÂ∫è‰∏éÂçè‰ΩúÂºèË∞ÉÂ∫¶"><a href="#Â§öÈÅìÁ®ãÂ∫è‰∏éÂçè‰ΩúÂºèË∞ÉÂ∫¶" class="headerlink" title="Â§öÈÅìÁ®ãÂ∫è‰∏éÂçè‰ΩúÂºèË∞ÉÂ∫¶"></a>Â§öÈÅìÁ®ãÂ∫è‰∏éÂçè‰ΩúÂºèË∞ÉÂ∫¶</h2><p>Â¶ÇÊûúË¶ÅÂÆûÁé∞‰ªªÂä°Ë¢´ÂàáÊç¢Âá∫ÂéªÂêéËøòÊúâÊú∫‰ºöË¢´ÂàáÊç¢ÂõûÊù•ÔºåÈúÄË¶ÅÁªô‰ªªÂä°Ê∑ªÂä†‰∏Ä‰∏™ËøêË°åÁä∂ÊÄÅ„ÄÇ‰πãÂêéÊ∑ªÂä†‰∏Ä‰∏™ÂØπÂ∫îÁöÑÁ≥ªÁªüË∞ÉÁî®ÔºåÂÜçÈÄöËøá‰ªªÂä°ÊéßÂà∂ÂùóÊù•ÁÆ°ÁêÜÔºåÂçè‰ΩúÂºèÁ≥ªÁªüÁöÑÂäüËÉΩÂ∞±ÂÆûÁé∞‰∫Ü„ÄÇ</p>
<p>‰ªªÂä°ÁöÑËøêË°åÁä∂ÊÄÅÔºö</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(Copy, Clone, PartialEq)]</span></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">enum</span> <span class="title class_">TaskStatus</span> {</span><br><span class="line">¬† ¬† UnInit,</span><br><span class="line">¬† ¬† Ready,</span><br><span class="line">¬† ¬† Running,</span><br><span class="line">¬† ¬† Exited,</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>‰ªªÂä°ÊéßÂà∂Âùó(Task Control Block)Êï∞ÊçÆÁªìÊûÑÔºö</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(Copy, Clone)]</span></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">TaskControlBlock</span> {</span><br><span class="line">¬† ¬† <span class="keyword">pub</span> task_status: TaskStatus,</span><br><span class="line">¬† ¬† <span class="keyword">pub</span> task_cx: TaskContext,</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>‰πãÂêéÔºåËøòÈúÄË¶Å‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑ‰ªªÂä°ÁÆ°ÁêÜÂô®Êù•ÁÆ°ÁêÜËøô‰∫õÁî®‰ªªÂä°ÊéßÂà∂ÂùóÔºö</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">TaskManager</span> {</span><br><span class="line">¬† ¬† num_app: <span class="type">usize</span>,</span><br><span class="line">¬† ¬† inner: UPSafeCell&lt;TaskManagerInner&gt;,</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">TaskManagerInner</span> {</span><br><span class="line">¬† ¬† tasks: [TaskControlBlock; MAX_APP_NUM],</span><br><span class="line">¬† ¬† current_task: <span class="type">usize</span>,</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>ÁÑ∂ÂêéÂÆûÁé∞<code>sys_yield</code>Á≥ªÁªüË∞ÉÁî®ÔºåÂç≥ÊöÇÂÅúÂΩìÂâçÁöÑÂ∫îÁî®Âπ∂ÂàáÊç¢Âà∞‰∏ã‰∏™Â∫îÁî®Ôºõ‰øÆÊîπ<code>sys_exit</code>Á≥ªÁªüË∞ÉÁî®ÔºåÊîπÊàêÂü∫‰∫é<code>task</code>Â≠êÊ®°ÂùóÁöÑÈÄÄÂá∫ÂΩìÂâçÁöÑÂ∫îÁî®Âπ∂ÂàáÊç¢Âà∞‰∏ã‰∏™Â∫îÁî®„ÄÇ</p>
<p>ÊöÇÂÅúÊàñÁªìÊùüÂΩìÂâçÁöÑÂ∫îÁî®ÂæàÁÆÄÂçïÔºå‰øÆÊîπËøêË°åÁä∂ÊÄÅÂç≥ÂèØÔºåÂàáÊç¢Âà∞‰∏ã‰∏™Â∫îÁî®ÈúÄË¶ÅÊâæÂà∞‰∏ã‰∏Ä‰∏™ÂèØ‰ª•Âä†ËΩΩÁöÑÂ∫îÁî®Ôºå<code>run_next_task</code>ÁöÑÂÆûÁé∞‰∏≠Ë∞ÉÁî®<code>find_next_task</code>ÊñπÊ≥ïÂ∞ùËØïÂØªÊâæ‰∏Ä‰∏™ËøêË°åÁä∂ÊÄÅ‰∏∫<code>Ready</code>ÁöÑÂ∫îÁî®Âπ∂ËøîÂõûÂÖ∂ID„ÄÇÂÆÉÁöÑÂÆûÁé∞Â¶Ç‰∏ãÔºö</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">find_next_task</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">Option</span>&lt;<span class="type">usize</span>&gt; {</span><br><span class="line">	<span class="keyword">let</span> <span class="variable">inner</span> = <span class="keyword">self</span>.inner.<span class="title function_ invoke__">exclusive_access</span>();</span><br><span class="line">	<span class="keyword">let</span> <span class="variable">current</span> = inner.current_task;</span><br><span class="line">	(current + <span class="number">1</span>..current + <span class="keyword">self</span>.num_app + <span class="number">1</span>)</span><br><span class="line">		.<span class="title function_ invoke__">map</span>(|id| id % <span class="keyword">self</span>.num_app)</span><br><span class="line">		.<span class="title function_ invoke__">find</span>(|id| {</span><br><span class="line">			inner.tasks[*id].task_status == TaskStatus::Ready</span><br><span class="line">		})</span><br><span class="line">	}</span><br></pre></td></tr></table></figure>
<p><code>map(|id| id % self.num_app)</code>Â∞ÜËåÉÂõ¥‰∏≠ÁöÑÊØè‰∏™<code>id</code>ËøõË°åÊ®°ËøêÁÆóÔºà<code>id % self.num_app</code>ÔºâÔºåÁ°Æ‰øù‰ªªÂä°Á¥¢ÂºïÊòØÂæ™ÁéØÁöÑ„ÄÇÂ¶ÇÊûú<code>id</code>Ë∂ÖËøá‰∫Ü<code>self.num_app</code>ÔºåÂÆÉ‰ºöÈáçÊñ∞‰ªé0ÂºÄÂßã„ÄÇ</p>
<p>ÊúÄÂêéÔºåÂú®Á¨¨‰∏ÄÊ¨°‰ªéÂÜÖÊ†∏ÊÄÅËøõÂÖ•Áî®Êà∑ÊÄÅÊó∂Ôºå‰∏∫ÊØè‰∏™‰ªªÂä°ÊûÑÈÄ†ÂçïÁã¨ÁöÑ‰∏ä‰∏ãÊñáÔºåÊâßË°åÁ¨¨‰∏Ä‰∏™Â∫îÁî®Êó∂ÔºåÂ£∞Êòé‰∏Ä‰∏™Á©∫ÁöÑ‰∏ä‰∏ãÊñáÁªìÊûÑ‰ΩìÔºå‰Ωú‰∏∫<code>switch</code>ÂáΩÊï∞ÁöÑÁ¨¨‰∏Ä‰∏™ÂèòÈáè‰º†ÂÖ•ÔºåÈÅøÂÖçÊï∞ÊçÆË¶ÜÁõñ„ÄÇ</p>
<h2 id="ÂàÜÊó∂Â§ö‰ªªÂä°Á≥ªÁªü"><a href="#ÂàÜÊó∂Â§ö‰ªªÂä°Á≥ªÁªü" class="headerlink" title="ÂàÜÊó∂Â§ö‰ªªÂä°Á≥ªÁªü"></a>ÂàÜÊó∂Â§ö‰ªªÂä°Á≥ªÁªü</h2><p>Âçè‰ΩúÂºèË∞ÉÂ∫¶‰∏≠ÔºåÂ¶ÇÊûú‰∏Ä‰∏™Â∫îÁî®‰∏ÄÁõ¥‰∏ç‰∏ªÂä®ÊîæÂºÉCPUÔºå‰∏ã‰∏Ä‰∏™Â∫îÁî®Âè™ËÉΩÁ≠âÂà∞Áé∞Âú®ÁöÑËøô‰∏™Â∫îÁî®Âá∫ÈîôÊàñÈÄÄÂá∫ÊâçÊúâÊú∫‰ºöËé∑ÂæóCPUÔºåËøôÊ†∑‰∏çÂ§™ÂÖ¨Âπ≥Ôºå‰πü‰∏çÂ§üÈ´òÊïà„ÄÇÁé∞‰ª£ÁöÑ‰ªªÂä°Ë∞ÉÂ∫¶ÁÆóÊ≥ïÂü∫Êú¨ÈÉΩÊòØÊä¢Âç†ÂºèÁöÑÔºåÂ∞ÜÊó∂Èó¥Áâá‰Ωú‰∏∫Â∫îÁî®ËøêË°åÊó∂ÈïøÁöÑÂçï‰ΩçÔºåÂÜÖÊ†∏‰ºöÂú®‰∏Ä‰∏™Êó∂Èó¥ÁâáÂêéÂàáÊç¢Âà∞‰∏ã‰∏Ä‰∏™‰ªªÂä°„ÄÇ</p>
<p>ËøôÈúÄË¶ÅËÉΩÂ§üÂØπÊó∂Èó¥ËÆ°Êó∂ÔºåÁÑ∂ÂêéÂÜçÂÆûÁé∞Êä¢Âç†ÁöÑÊú∫Âà∂„ÄÇ</p>
<p>ËÆ°Êó∂ÈÄöËøá<code>RISC-V</code>ÁöÑÊó∂Èíü‰∏≠Êñ≠ÂíåËÆ°Êó∂Âô®Êù•ÂÆûÁé∞Ôºå<code>RISC-V</code>ÁöÑÊú∫Âô®Ê®°Âºè‰∏ãÈÄöËøáÂÆöÊó∂Âô®ÊéßÂà∂ÂØÑÂ≠òÂô®Ôºà<code>mtime</code>ÔºâÂíåÂÆöÊó∂Âô®ÊØîËæÉÂØÑÂ≠òÂô®Ôºà<code>mtimecmp</code>ÔºâÁîüÊàêÊó∂Èíü‰∏≠Êñ≠„ÄÇ<code>mtime</code>ÊòØ‰∏Ä‰∏™ 64 ‰ΩçÁöÑÂØÑÂ≠òÂô®ÔºåË°®Á§∫Ëá™Á≥ªÁªüÂêØÂä®‰ª•Êù•ÁöÑÊó∂ÈíüÂë®ÊúüÊï∞„ÄÇ<code>mtimecmp</code>ÊòØ‰∏Ä‰∏™Áî®‰∫éÂÆöÊó∂Âô®‰∏≠Êñ≠ÁöÑÊØîËæÉÂØÑÂ≠òÂô®ÔºåÂΩì¬†<code>mtime</code>¬†ËææÂà∞ÊàñË∂ÖËøá<code>mtimecmp</code>ÁöÑÂÄºÊó∂ÔºåÁ≥ªÁªü‰ºöÁîüÊàê‰∏Ä‰∏™‰∏≠Êñ≠‰ø°Âè∑„ÄÇÂØºÂÖ•ÁöÑ<code>RISC-V</code>‰æùËµñ‰∏≠ÂÆûÁé∞‰∫ÜÁõ∏ÂÖ≥ÁöÑÊé•Âè£ÔºåÁõ¥Êé•Ë∞ÉÁî®Âç≥ÂèØ„ÄÇ</p>
<p>‰πãÂêéÂÆûÁé∞Êä¢Âç†Êú∫Âà∂ÔºåÂÜÖÊ†∏Êó¢ÁÑ∂ËÉΩÂ§üÂ∞Ü<code>yield</code>Ë∞ÉÁî®ÂºÄÊîæÁªôÂ∫îÁî®Á®ãÂ∫èÔºåËá™ÁÑ∂‰πüËÉΩËá™Â∑±Ë∞ÉÁî®ÔºàÂ∫üËØùÔºâÔºåÂú®<code>trap_handler</code>‰∏≠Âä†ÂÖ•ÂØπÊó∂Èíü‰∏≠Êñ≠ÁöÑÂ§ÑÁêÜÔºåÁÑ∂ÂêéË∞ÉÁî®‰∏äÈù¢ÂÆûÁé∞ËøáÁöÑÂáΩÊï∞ÊöÇÂÅúÂΩìÂâçÂ∫îÁî®Âπ∂ÂàáÊç¢Âà∞‰∏ã‰∏Ä‰∏™„ÄÇ</p>
<p>Âú®ÂèëÁîü‰∏≠Êñ≠Êó∂Ôºå<code>RISC-V</code>ÁöÑÁ°¨‰ª∂‰ºöÊää<code>sstatus.sie</code>Â≠óÊÆµËÆæ‰∏∫0ÔºåÁ°¨‰ª∂‰ºöËá™Âä®Á¶ÅÁî®ÊâÄÊúâÂêåÁâπÊùÉÁ∫ß‰∏≠Êñ≠ÔºõÂõ†Ê≠§ÔºåÂú®‰∏çÊâãÂä®ÊîπÂèòÂØÑÂ≠òÂô®ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏ç‰ºöÂèëÁîüÂµåÂ•óË∞ÉÁî®ÔºåÁõÆÂâçÁöÑÂÜÖÊ†∏‰∏≠Ôºå‰∏∫‰∫ÜÁÆÄÂçïËµ∑ËßÅÔºå‰∏ç‰ºöÂìçÂ∫îSÁâπÊùÉÁ∫ßÁöÑ‰∏≠Êñ≠Ôºå‰πüÂ∞±‰∏ç‰ºöÂèëÁîüÂµåÂ•óË∞ÉÁî®„ÄÇÂú®ÊâßË°åÁ¨¨‰∏Ä‰∏™Â∫îÁî®ÂâçÈúÄË¶ÅÊâßË°å‰∏Ä‰∫õÂàùÂßãÂåñÂ∑•‰ΩúÔºåË∞ÉÁî®<code>enable_timer_interrupt()</code>ÂàùÂßãÂåñ<code>sie.stie</code>Â≠óÊÆµÔºå‰ΩøÂæóSÁâπÊùÉÁ∫ßÊó∂Èíü‰∏≠Êñ≠‰∏ç‰ºöË¢´Â±èËîΩÔºåÂÜçËÆæÁΩÆÁ¨¨‰∏Ä‰∏™ËÆ°Êó∂Âô®„ÄÇ</p>
</div>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2025-03-25</span>
            
                <span>ËØ•ÁØáÊñáÁ´†Ë¢´ Derfflinger</span>
            
            
                <span>Êâì‰∏äÊ†áÁ≠æ:
                    
                    
                        <a href='/tags/RISC-V/'>
                            RISC-V
                        </a>
                    
                        <a href='/tags/System/'>
                            System
                        </a>
                    
                        <a href='/tags/OS/'>
                            OS
                        </a>
                    
                        <a href='/tags/Rust/'>
                            Rust
                        </a>
                    
                </span>
             
             
                <span>ÂΩí‰∏∫ÂàÜÁ±ª:
                    
                    
                        <a href='/categories/rCore/'>
                            rCore
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                
                    <span>‰∏ä‰∏ÄÁØáÔºö<a href='/2025/04/05/%E5%86%85%E5%AD%98%E8%99%9A%E6%8B%9F%E5%8C%96/'>ÂÜÖÂ≠òËôöÊãüÂåñ</a></span>
                

                
                    <span class="post-footer-pre-next-last-span-right">‰∏ã‰∏ÄÁØáÔºö<a href="/2025/02/13/ch2%20%E6%89%B9%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F/">ch2 ÊâπÂ§ÑÁêÜÁ≥ªÁªü</a>
                    </span>
                
            </div>
    
        
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
             

            
                

            
        </span>
       
    
</div>



<!--ËøôÊòØÊåá‰∏ÄÊù°Á∫øÂæÄ‰∏ãÁöÑÂÜÖÂÆπ-->
<div class="footer-last">
    
            <span></span>
            
                <span class="footer-last-span-right"><i>Êú¨Á´ôÁî±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>È©±Âä®ÔΩú‰ΩøÁî®<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>‰∏ªÈ¢ò</i></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ÁõÆÂΩï-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--ÂõûÂà∞È°∂ÈÉ®ÊåâÈíÆ-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery/lightgallery.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // ÂêØÁî®Êèí‰ª∂
            thumbnail: true,          // ÊòæÁ§∫Áº©Áï•Âõæ
            zoom: true,               // ÂêØÁî®Áº©ÊîæÂäü
            rotate: true,             // ÂêØÁî®ÊóãËΩ¨ÂäüËÉΩËÉΩ
            autoplay: true,        // ÂêØÁî®Ëá™Âä®Êí≠ÊîæÂäüËÉΩ
            fullScreen: true,      // ÂêØÁî®ÂÖ®Â±èÂäüËÉΩ
            pager: false, //È°µÁ†Å,
            zoomFromOrigin: true,   // ‰ªéÂéüÂßã‰ΩçÁΩÆÁº©Êîæ
            actualSize: true,       // ÂêØÁî®Êü•ÁúãÂÆûÈôÖÂ§ßÂ∞èÁöÑÂäüËÉΩ
            enableZoomAfter: 300,    // Âª∂ËøüÁº©ÊîæÔºåÁ°Æ‰øùÂõæÁâáÂä†ËΩΩÂÆåÊàêÂêéÂèØÁº©Êîæ
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ‰øÆÂ§çÈÄâÊã©Âô®
    }
    
</script>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> 

                </div>
            
            
                <!-- ÂõûÂà∞È°∂ÈÉ®ÁöÑÊåâÈíÆ-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- ËøîÂõûÁöÑÊåâÈíÆ-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>